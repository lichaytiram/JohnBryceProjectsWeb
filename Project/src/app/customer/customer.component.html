<h2 class="my_name" *ngIf="service.my_name">wellcome back: <strong>{{service.my_name.name}}</strong></h2>
<hr>

<div *ngIf="instance.amount" class="amount">
  <br>
  <p>
    amount: <span class="dot"> {{instance.amount}}</span>
  </p>
</div>

<div>

  <button (click)="log_out()" class="angle">log out</button>

</div>

<div class="center">
  <button (click)="get_customer()">show customer info</button>
  <div *ngIf="instance.customer">
    <br>
    firstName: {{instance.customer.firstName}} <br>
    lastName: {{instance.customer.lastName}} <br>
    phoneNumber: {{instance.customer.phoneNumber}} <br>
    email: {{instance.customer.email}} <br>

  </div>
  <button (click)="get_user()">show user info</button>

  <div *ngIf="instance.user">
    <br>
    user name: {{instance.user.userName}} <br>
    password: {{instance.user.password}} <br>

  </div>


  <button (click)="get_customer_purchase()">get all purchases</button>
  <div *ngIf="instance.purchases">


    <table border="1" align="center">
      <tr>
        <th>coupon id</th>
        <th>amount</th>
        <th>date</th>
        <th>delete purchase</th>
      </tr>
      <tr *ngFor="let purchase of instance.purchases">
        <td>{{purchase.couponId}}</td>
        <td>{{purchase.amount}}</td>
        <td>{{purchase.date}}</td>
        <td><button (click)="delete_purchase_by_id(purchase.id)" class="angle">delete</button></td>
      </tr>
    </table>


  </div>


  <button (click)="get_customer_coupons_by_customer_id()">get my coupons</button>
  <div *ngIf="instance.coupon">

    <table border="1" align="center">
      <tr>
        <th>title</th>
        <th>description</th>
        <th>category</th>
        <th>amount</th>
        <th>price</th>
        <th>image</th>
        <th>delete purchase</th>
      </tr>

      <tr *ngFor="let coupon of instance.coupon">
        <td>{{coupon.title}}</td>
        <td>{{coupon.description}}</td>
        <td>{{coupon.category}}</td>
        <td>{{coupon.amount}}</td>
        <td>{{coupon.price}}</td>
        <td>{{coupon.image}}</td>
        <td><button (click)="delete_purchase_by_id(coupon.id)" class="angle">delete</button></td>
      </tr>
    </table>

  </div>
  <div>

    <br>
    <select [(ngModel)]="category">

      <option value="Food">Food</option>
      <option value="Electricity">Electricity</option>
      <option value="Restaurant">Restaurant</option>
      <option value="Vacation">Vacation</option>
      <option value="Science">Science</option>
      <option value="Comics">Comics</option>
      <option value="Paintball">Paintball</option>

    </select>
    <button (click)="get_customer_coupons_by_category()">choose by category</button>
    <div *ngIf="instance.category">

      <table border="1" align="center">
        <tr>
          <th>title</th>
          <th>description</th>
          <th>category</th>
          <th>amount</th>
          <th>price</th>
          <th>image</th>
        </tr>

        <tr *ngFor="let coupon of instance.category">
          <td>{{coupon.title}}</td>
          <td>{{coupon.description}}</td>
          <td>{{coupon.category}}</td>
          <td>{{coupon.amount}}</td>
          <td>{{coupon.price}}</td>
          <td>{{coupon.image}}</td>
        </tr>
      </table>

    </div>

    <div>
      <br>
      <input type="number" [(ngModel)]="max_price">
      <button (click)="get_customer_coupons_by_max_price()">get all coupons by max price</button>
      <div *ngIf="instance.max_price">

        <table border="1" align="center">
          <tr>
            <th>title</th>
            <th>description</th>
            <th>category</th>
            <th>amount</th>
            <th>price</th>
            <th>image</th>
          </tr>

          <tr *ngFor="let coupon of instance.max_price">
            <td>{{coupon.title}}</td>
            <td>{{coupon.description}}</td>
            <td>{{coupon.category}}</td>
            <td>{{coupon.amount}}</td>
            <td>{{coupon.price}}</td>
            <td>{{coupon.image}}</td>
          </tr>
        </table>


      </div>

    </div>

  </div>

  <div>

    <button (click)="get_all_coupon()">show all coupons</button>

    <div *ngIf="instance.all_coupons" class="center">


      <table border="1" align="center">

        <tr>
          <th>title</th>
          <th>description</th>
          <th>category</th>
          <th>amount</th>
          <th>price</th>
          <th>image</th>
          <th>purchase</th>
        </tr>

        <tr *ngFor="let coupon of instance.all_coupons">
          <td>{{coupon.title}}</td>
          <td>{{coupon.description}}</td>
          <td>{{coupon.category}}</td>
          <td>{{coupon.amount}}</td>
          <td>{{coupon.price}}</td>
          <td>{{coupon.image}}</td>
          <td> <button (click)="purchase_coupon(coupon.id)" class="angle">purchse coupon</button></td>
        </tr>

      </table>
      <p>amount: <input type="number" [(ngModel)]="amount"></p>

    </div>

    <div>

      <button (click)="update_customer_switch()">update your customer</button>

      <div *ngIf="update_on">

        <h4>plz fill all </h4>
        <input type="text" [(ngModel)]="user_name"> user name
        <br>
        <input type="password" [(ngModel)]="password"> password
        <br>
        <input type="text" [(ngModel)]="first_name"> first name
        <br>
        <input type="text" [(ngModel)]="last_name"> last name
        <br>
        <input type="text" [(ngModel)]="phone_number"> phone number
        <br>
        <input type="email" [(ngModel)]="email"> email
        <br>
        <button (click)="update_customer()">update your customer</button>
      </div>

    </div>

    <button style="background-color:red" (click)="delete_customer()">delete your account</button>

  </div>