<h2 class="my_name" *ngIf="service.my_name">wellcome back: {{service.my_name.name}}</h2>
<hr>
<div>
    <button (click)="log_out()" class="angle">log out</button>
</div>


<div class="center">

    <div>

        <button (click)="create_company()">create company</button><br>
        Enter company name <input type="text" [(ngModel)]="company_name"><br>
        Enter phone number <input type="text" [(ngModel)]="phone_number"><br>
        Enter email <input type="text" [(ngModel)]="email"><br>

    </div>

    <div>

        <button (click)="update_company()">update company</button><br>
        Enter company id <input type="number" [(ngModel)]="company_id"> <br>
        Enter company name <input type="text" [(ngModel)]="company_name"><br>
        Enter phone number <input type="text" [(ngModel)]="phone_number"><br>
        Enter email <input type="text" [(ngModel)]="email"><br>

    </div>

    <div>

        <button (click)="create_user()">create user</button><br>
        Enter user name <input type="text" [(ngModel)]="user_name"><br>
        Enter password <input type="text" [(ngModel)]="password"><br>
        Enter company id <input type="number" [(ngModel)]="company_id_user"><br>
        Enter type <select [(ngModel)]="type"><br>
            <option value="Company">Company</option>
            <option value="Administrator">Administrator</option>
        </select>

    </div>

    <div>

        <button (click)="update_user()">update user</button><br>
        Enter id <input type="number" [(ngModel)]="user_id"><br>
        Enter user name <input type="text" [(ngModel)]="user_name"><br>
        Enter password <input type="text" [(ngModel)]="password"><br>

    </div>

    <div>

        <button (click)="get_all_companies()">get all companies</button>

        <div *ngIf="instance.all_companies">
            <table border="1" align="center">

                <tr>
                    <th>id</th>
                    <th>name</th>
                    <th>phone number</th>
                    <th>email</th>
                    <th>delete company</th>
                </tr>
                <tr *ngFor="let company of instance.all_companies">
                    <td>{{company.id}}</td>
                    <td>{{company.name}}</td>
                    <td>{{company.phoneNumber}}</td>
                    <td>{{company.email}}</td>
                    <td><button (click)="delete_company(company.id)" class="angle">delete</button></td>
                </tr>

            </table>

        </div>

    </div>

    <div>

        <button (click)="get_all_customers()">get all customers</button>

        <div *ngIf="instance.all_customers">
            <table border="1" align="center">

                <tr>
                    <th>id</th>
                    <th>first name</th>
                    <th>last name</th>
                    <th>phone number</th>
                    <th>email</th>
                </tr>
                <tr *ngFor="let customer of instance.all_customers">
                    <td>{{customer.id}}</td>
                    <td>{{customer.firstName}}</td>
                    <td>{{customer.lastName}}</td>
                    <td>{{customer.phoneNumber}}</td>
                    <td>{{customer.email}}</td>
                </tr>

            </table>

        </div>

    </div>

    <div>

        <button (click)="get_all_purchases()">get all purchases</button>

        <div *ngIf="instance.all_purchases">
            <table border="1" align="center">

                <tr>
                    <th>id</th>
                    <th>customer id</th>
                    <th>coupon id</th>
                    <th>amount</th>
                    <th>date</th>
                </tr>
                <tr *ngFor="let purchase of instance.all_purchases">
                    <td>{{purchase.id}}</td>
                    <td>{{purchase.customerId}}</td>
                    <td>{{purchase.couponId}}</td>
                    <td>{{purchase.amount}}</td>
                    <td>{{purchase.date}}</td>
                </tr>

            </table>

        </div>

    </div>

    <div>

        <button (click)="get_all_users()">get all users</button>

        <div *ngIf="instance.all_users">
            <table border="1" align="center">

                <tr>
                    <th>id</th>
                    <th>user name</th>
                    <th>password</th>
                    <th>type</th>
                    <th>company id</th>
                    <th>delete user</th>
                </tr>
                <tr *ngFor="let user of instance.all_users">
                    <td>{{user.id}}</td>
                    <td>{{user.userName}}</td>
                    <td>{{user.password}}</td>
                    <td>{{user.type}}</td>
                    <td>{{user.companyId}}</td>
                    <td><button *ngIf="available_delete(user.type,user.id)" (click)="delete_user(user.id)"
                            class="angle">delete</button>
                    </td>
                </tr>

            </table>

        </div>

    </div>

    <button style="background-color:red" (click)="delete_my_user()">delete your account</button>


</div>